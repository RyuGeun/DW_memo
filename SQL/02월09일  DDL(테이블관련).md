# DDL(자체가 auto commit)

- ## CREATE

```sql
-- DDL로 작성된 CREATE문 = "스키마" 라고 한다.
  > CREATE TABLE => 테이블 생성!
  > 문법)
  > CREATE TABLE student(테이블 이름)(
            컬럼 이름        데이터타입(자릿수 지정 가능)           조건
               id                     INT(11)                 *NOT NULL *auto_increment,
              name                VARCHAR(20)                 NOT NULL,
              height                  INT(5),
              age                     INT(5)                  DEFAULT 0,
              create_at             DATETIME                  DEFAULT *CURRENT_TIMESTAMP,
              *CONSTRAINT student_id_pk(제약_조건_이름) primary key(id)

              CONSTRAINT 제약조건이름 + *foreign key('*참조 할 테이블(자식테이블)에서 관계를 맺을 컬럼명') *REFERENCES '*참조 해줄 테이블(부모테이블)명'('참조 해줄 테이블에서 관계를 맺을 컬럼명') + on delete || on update + 이벤트 종류
              ->
              ex)CONSTRAINT student_deptno_fk foreign key(deptno) REFERENCES dept(deptno)) on delete cascade;
  );
```

- 1. auto_increment=생성 될때 마다 1씩 증감
- 2. NOT NULL=무조건 데이터를 넣어주어야함
- 3. CURRENT_TIMESTAMP=NOW()로 생성시간 자동 기록
- 4. CONSTRAINT=제약 조건
- 5. CONSTRAINT 컬럼명 primary key(PK가 될 컬럼명)
- 6. foreign key(외래키) = foreign key는 컬럼 이름이 중요한게 아니라, 데이터 타입이 같아야한다. / 조건 : 고유한 데이터를 가진 컬럼을 참조 해야한다.
- 7. REFERENCES=참조

*참조 할 테이블=자식테이블  
*참조 해줄 테이블명=부모테이블

- # on delete + 이벤트 :

      부모 테이블의 데이터에 삭제 이벤트가 발생하면 자식테이블의 데이터에 이벤트 발생
      (부모테이블의 데이터가 삭제되면 자식테이블에 있는 데이터에도 영향이 감)

- # on update +이벤트 :

      부모테이블의 데이터에 수정 이벤트가 발생하면 자식테이블의 데이터에 이벤트 발생
      (부모테이블의 데이터가 수정되면 자식테이블에 있는 데이터에도 영향이 감)

- # 이벤트 종류(단골 문제) : 아래중 하나 선택

      1. cascade : 자식데이터 삭제 or 수정
      ex) on delete cascade = 부모테이블의 데이터가 삭제or수정하면 자식테이블에서 참조하는 데이터도 삭제or수정됨
      2. set null : 자식데이터 null로 업데이트
      3. set default : 자식데이터에 default 값으로 업데이트
      *4. redtrict(default값) : 부모데이터 삭제 or 수정 불가능
      5. no action : 자식 테이블의 데이터는 변경되지 않습니다.
                    (부모데이터가 무엇을 해도 자식데이터는 변경 없음)

- ## 데이터베이스 설계 방법

  *담당교수가 1명이라고 가정할 때
  *기본키는 고유한 것만 올 수 있다.  
  ex)(학생테이블) (교수테이블)  
   학생이름 교수이름  
   학생나이 교수번호(기본키(PK))  
   교수번호(외래키(FK)) 담당과목
  학점 연차  
   학번(기본키(PK))  
   학년

- DROP

- ## ALTER

```sql
1. 컬럼 추가
ALTER TABLE `테이블명` ADD `컬럼명` 타입(길이) 제약조건
2. 컬럼 여러개 추가
ALTER TABLE '테이블명'
ADD COLUMN '컬럼명' 타입(길이) 제약조건,
ADD COLUMN '컬럼명' 타입(길이) 제약조건,
ADD COLUMN '컬럼명' 타입(길이) 제약조건,
.
.
.
3. 컬럼 맨앞에 추가
 ALTER TABLE `테이블명` ADD `새컬럼명` 타입(길이) 제약조건 FIRST
4. 컬럼 중간에 추가
  ALTER TABLE `테이블명` ADD `새컬럼명` 타입(길이) 제약조건 AFTER '앞컬럼명'
1. COLUMN 속성 변경
  ALTER TABLE '테이블명' ALTER COLUMN '컬럼명' 타입(길이) 제약조건
```

## CREATE문제

테이블 이름 : subject  
컬럼 이름 :

1. subject_id INT(11)
2. name VARCHAR(20)
3. create_at DATETIME
   속성 :
4. primate key : subject_id
5. not null : name
6. default : create_at

```sql
create table subject(
subject_id INT(11) auto_increment,
name VARCHAR(20) not NULL,
create_at DATETIME default 0,
constraint subject_id_pk primary key (subject_id)
);
```
